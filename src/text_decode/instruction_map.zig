const std = @import("std");
const wasm_core = @import("wasm-core");

pub const InstructionTag = std.meta.Tag(wasm_core.types.Instruction);

/// Map instruction name to instruction tag
pub fn opcodeFromName(name: []const u8) ?InstructionTag {
    const map = std.StaticStringMap(InstructionTag).initComptime(.{
        // Control instructions
        .{ "nop", .nop },
        .{ "unreachable", .@"unreachable" },
        .{ "block", .block },
        .{ "loop", .loop },
        .{ "if", .@"if" },
        .{ "else", .@"else" },
        .{ "end", .end },
        .{ "return", .@"return" },
        .{ "br", .br },
        .{ "br_if", .br_if },
        .{ "br_table", .br_table },
        .{ "call", .call },
        .{ "call_indirect", .call_indirect },
        .{ "return_call", .return_call },
        .{ "return_call_indirect", .return_call_indirect },

        // Exception handling instructions
        .{ "throw", .throw },
        .{ "throw_ref", .throw_ref },
        .{ "try_table", .try_table },

        // Reference instructions
        .{ "ref.null", .ref_null },
        .{ "ref.is_null", .ref_is_null },
        .{ "ref.func", .ref_func },
        .{ "call_ref", .call_ref },
        .{ "return_call_ref", .return_call_ref },
        .{ "ref.as_non_null", .ref_as_non_null },
        .{ "br_on_null", .br_on_null },
        .{ "br_on_non_null", .br_on_non_null },
        
        // Parametric instructions
        .{ "drop", .drop },
        .{ "select", .select },
        
        // Variable instructions
        .{ "local.get", .local_get },
        .{ "local.set", .local_set },
        .{ "local.tee", .local_tee },
        .{ "global.get", .global_get },
        .{ "global.set", .global_set },
        
        // Table instructions
        .{ "table.get", .table_get },
        .{ "table.set", .table_set },
        .{ "table.init", .table_init },
        .{ "elem.drop", .elem_drop },
        .{ "table.copy", .table_copy },
        .{ "table.grow", .table_grow },
        .{ "table.size", .table_size },
        .{ "table.fill", .table_fill },
        
        // Memory instructions
        .{ "i32.load", .i32_load },
        .{ "i64.load", .i64_load },
        .{ "f32.load", .f32_load },
        .{ "f64.load", .f64_load },
        .{ "i32.load8_s", .i32_load8_s },
        .{ "i32.load8_u", .i32_load8_u },
        .{ "i32.load16_s", .i32_load16_s },
        .{ "i32.load16_u", .i32_load16_u },
        .{ "i64.load8_s", .i64_load8_s },
        .{ "i64.load8_u", .i64_load8_u },
        .{ "i64.load16_s", .i64_load16_s },
        .{ "i64.load16_u", .i64_load16_u },
        .{ "i64.load32_s", .i64_load32_s },
        .{ "i64.load32_u", .i64_load32_u },
        .{ "i32.store", .i32_store },
        .{ "i64.store", .i64_store },
        .{ "f32.store", .f32_store },
        .{ "f64.store", .f64_store },
        .{ "i32.store8", .i32_store8 },
        .{ "i32.store16", .i32_store16 },
        .{ "i64.store8", .i64_store8 },
        .{ "i64.store16", .i64_store16 },
        .{ "i64.store32", .i64_store32 },
        .{ "memory.size", .memory_size },
        .{ "memory.grow", .memory_grow },
        .{ "memory.init", .memory_init },
        .{ "data.drop", .data_drop },
        .{ "memory.copy", .memory_copy },
        .{ "memory.fill", .memory_fill },
        
        // Numeric instructions - i32
        .{ "i32.const", .i32_const },
        .{ "i32.eqz", .i32_eqz },
        .{ "i32.eq", .i32_eq },
        .{ "i32.ne", .i32_ne },
        .{ "i32.lt_s", .i32_lt_s },
        .{ "i32.lt_u", .i32_lt_u },
        .{ "i32.gt_s", .i32_gt_s },
        .{ "i32.gt_u", .i32_gt_u },
        .{ "i32.le_s", .i32_le_s },
        .{ "i32.le_u", .i32_le_u },
        .{ "i32.ge_s", .i32_ge_s },
        .{ "i32.ge_u", .i32_ge_u },
        .{ "i32.clz", .i32_clz },
        .{ "i32.ctz", .i32_ctz },
        .{ "i32.popcnt", .i32_popcnt },
        .{ "i32.add", .i32_add },
        .{ "i32.sub", .i32_sub },
        .{ "i32.mul", .i32_mul },
        .{ "i32.div_s", .i32_div_s },
        .{ "i32.div_u", .i32_div_u },
        .{ "i32.rem_s", .i32_rem_s },
        .{ "i32.rem_u", .i32_rem_u },
        .{ "i32.and", .i32_and },
        .{ "i32.or", .i32_or },
        .{ "i32.xor", .i32_xor },
        .{ "i32.shl", .i32_shl },
        .{ "i32.shr_s", .i32_shr_s },
        .{ "i32.shr_u", .i32_shr_u },
        .{ "i32.rotl", .i32_rotl },
        .{ "i32.rotr", .i32_rotr },
        
        // Numeric instructions - i64
        .{ "i64.const", .i64_const },
        .{ "i64.eqz", .i64_eqz },
        .{ "i64.eq", .i64_eq },
        .{ "i64.ne", .i64_ne },
        .{ "i64.lt_s", .i64_lt_s },
        .{ "i64.lt_u", .i64_lt_u },
        .{ "i64.gt_s", .i64_gt_s },
        .{ "i64.gt_u", .i64_gt_u },
        .{ "i64.le_s", .i64_le_s },
        .{ "i64.le_u", .i64_le_u },
        .{ "i64.ge_s", .i64_ge_s },
        .{ "i64.ge_u", .i64_ge_u },
        .{ "i64.clz", .i64_clz },
        .{ "i64.ctz", .i64_ctz },
        .{ "i64.popcnt", .i64_popcnt },
        .{ "i64.add", .i64_add },
        .{ "i64.sub", .i64_sub },
        .{ "i64.mul", .i64_mul },
        .{ "i64.div_s", .i64_div_s },
        .{ "i64.div_u", .i64_div_u },
        .{ "i64.rem_s", .i64_rem_s },
        .{ "i64.rem_u", .i64_rem_u },
        .{ "i64.and", .i64_and },
        .{ "i64.or", .i64_or },
        .{ "i64.xor", .i64_xor },
        .{ "i64.shl", .i64_shl },
        .{ "i64.shr_s", .i64_shr_s },
        .{ "i64.shr_u", .i64_shr_u },
        .{ "i64.rotl", .i64_rotl },
        .{ "i64.rotr", .i64_rotr },
        
        // Numeric instructions - f32
        .{ "f32.const", .f32_const },
        .{ "f32.eq", .f32_eq },
        .{ "f32.ne", .f32_ne },
        .{ "f32.lt", .f32_lt },
        .{ "f32.gt", .f32_gt },
        .{ "f32.le", .f32_le },
        .{ "f32.ge", .f32_ge },
        .{ "f32.abs", .f32_abs },
        .{ "f32.neg", .f32_neg },
        .{ "f32.ceil", .f32_ceil },
        .{ "f32.floor", .f32_floor },
        .{ "f32.trunc", .f32_trunc },
        .{ "f32.nearest", .f32_nearest },
        .{ "f32.sqrt", .f32_sqrt },
        .{ "f32.add", .f32_add },
        .{ "f32.sub", .f32_sub },
        .{ "f32.mul", .f32_mul },
        .{ "f32.div", .f32_div },
        .{ "f32.min", .f32_min },
        .{ "f32.max", .f32_max },
        .{ "f32.copysign", .f32_copy_sign },
        
        // Numeric instructions - f64
        .{ "f64.const", .f64_const },
        .{ "f64.eq", .f64_eq },
        .{ "f64.ne", .f64_ne },
        .{ "f64.lt", .f64_lt },
        .{ "f64.gt", .f64_gt },
        .{ "f64.le", .f64_le },
        .{ "f64.ge", .f64_ge },
        .{ "f64.abs", .f64_abs },
        .{ "f64.neg", .f64_neg },
        .{ "f64.ceil", .f64_ceil },
        .{ "f64.floor", .f64_floor },
        .{ "f64.trunc", .f64_trunc },
        .{ "f64.nearest", .f64_nearest },
        .{ "f64.sqrt", .f64_sqrt },
        .{ "f64.add", .f64_add },
        .{ "f64.sub", .f64_sub },
        .{ "f64.mul", .f64_mul },
        .{ "f64.div", .f64_div },
        .{ "f64.min", .f64_min },
        .{ "f64.max", .f64_max },
        .{ "f64.copysign", .f64_copy_sign },
        
        // Conversion instructions
        .{ "i32.wrap_i64", .i32_wrap_i64 },
        .{ "i32.trunc_f32_s", .i32_trunc_f32_s },
        .{ "i32.trunc_f32_u", .i32_trunc_f32_u },
        .{ "i32.trunc_f64_s", .i32_trunc_f64_s },
        .{ "i32.trunc_f64_u", .i32_trunc_f64_u },
        .{ "i64.extend_i32_s", .i64_extend_i32_s },
        .{ "i64.extend_i32_u", .i64_extend_i32_u },
        .{ "i64.trunc_f32_s", .i64_trunc_f32_s },
        .{ "i64.trunc_f32_u", .i64_trunc_f32_u },
        .{ "i64.trunc_f64_s", .i64_trunc_f64_s },
        .{ "i64.trunc_f64_u", .i64_trunc_f64_u },
        .{ "f32.convert_i32_s", .f32_convert_i32_s },
        .{ "f32.convert_i32_u", .f32_convert_i32_u },
        .{ "f32.convert_i64_s", .f32_convert_i64_s },
        .{ "f32.convert_i64_u", .f32_convert_i64_u },
        .{ "f32.demote_f64", .f32_demote_f64 },
        .{ "f64.convert_i32_s", .f64_convert_i32_s },
        .{ "f64.convert_i32_u", .f64_convert_i32_u },
        .{ "f64.convert_i64_s", .f64_convert_i64_s },
        .{ "f64.convert_i64_u", .f64_convert_i64_u },
        .{ "f64.promote_f32", .f64_promote_f32 },
        .{ "i32.reinterpret_f32", .i32_reinterpret_f32 },
        .{ "i64.reinterpret_f64", .i64_reinterpret_f64 },
        .{ "f32.reinterpret_i32", .f32_reinterpret_i32 },
        .{ "f64.reinterpret_i64", .f64_reinterpret_i64 },
        
        // Sign extension instructions
        .{ "i32.extend8_s", .i32_extend8_s },
        .{ "i32.extend16_s", .i32_extend16_s },
        .{ "i64.extend8_s", .i64_extend8_s },
        .{ "i64.extend16_s", .i64_extend16_s },
        .{ "i64.extend32_s", .i64_extend32_s },
        
        // Saturating truncation instructions
        .{ "i32.trunc_sat_f32_s", .i32_trunc_sat_f32_s },
        .{ "i32.trunc_sat_f32_u", .i32_trunc_sat_f32_u },
        .{ "i32.trunc_sat_f64_s", .i32_trunc_sat_f64_s },
        .{ "i32.trunc_sat_f64_u", .i32_trunc_sat_f64_u },
        .{ "i64.trunc_sat_f32_s", .i64_trunc_sat_f32_s },
        .{ "i64.trunc_sat_f32_u", .i64_trunc_sat_f32_u },
        .{ "i64.trunc_sat_f64_s", .i64_trunc_sat_f64_s },
        .{ "i64.trunc_sat_f64_u", .i64_trunc_sat_f64_u },
        
        // Vector/SIMD instructions
        .{ "i16x8.abs", .i16x8_abs },
        .{ "i16x8.add", .i16x8_add },
        .{ "i16x8.add_sat_s", .i16x8_add_sat_s },
        .{ "i16x8.add_sat_u", .i16x8_add_sat_u },
        .{ "i16x8.all_true", .i16x8_all_true },
        .{ "i16x8.avgr_u", .i16x8_avgr_u },
        .{ "i16x8.bitmask", .i16x8_bitmask },
        .{ "i16x8.eq", .i16x8_eq },
        .{ "i16x8.extadd_pairwise_i8x16_s", .i16x8_extadd_pairwise_i8x16_s },
        .{ "i16x8.extadd_pairwise_i8x16_u", .i16x8_extadd_pairwise_i8x16_u },
        .{ "i16x8.extend_high_i8x16_s", .i16x8_extend_high_i8x16_s },
        .{ "i16x8.extend_high_i8x16_u", .i16x8_extend_high_i8x16_u },
        .{ "i16x8.extend_low_i8x16_s", .i16x8_extend_low_i8x16_s },
        .{ "i16x8.extend_low_i8x16_u", .i16x8_extend_low_i8x16_u },
        .{ "i16x8.extmul_high_i8x16_s", .i16x8_extmul_high_i8x16_s },
        .{ "i16x8.extmul_high_i8x16_u", .i16x8_extmul_high_i8x16_u },
        .{ "i16x8.extmul_low_i8x16_s", .i16x8_extmul_low_i8x16_s },
        .{ "i16x8.extmul_low_i8x16_u", .i16x8_extmul_low_i8x16_u },
        .{ "i16x8.extract_lane_s", .i16x8_extract_lane_s },
        .{ "i16x8.extract_lane_u", .i16x8_extract_lane_u },
        .{ "i16x8.ge_s", .i16x8_ge_s },
        .{ "i16x8.ge_u", .i16x8_ge_u },
        .{ "i16x8.gt_s", .i16x8_gt_s },
        .{ "i16x8.gt_u", .i16x8_gt_u },
        .{ "i16x8.le_s", .i16x8_le_s },
        .{ "i16x8.le_u", .i16x8_le_u },
        .{ "i16x8.lt_s", .i16x8_lt_s },
        .{ "i16x8.lt_u", .i16x8_lt_u },
        .{ "i16x8.max_s", .i16x8_max_s },
        .{ "i16x8.max_u", .i16x8_max_u },
        .{ "i16x8.min_s", .i16x8_min_s },
        .{ "i16x8.min_u", .i16x8_min_u },
        .{ "i16x8.mul", .i16x8_mul },
        .{ "i16x8.narrow_i32x4_s", .i16x8_narrow_i32x4_s },
        .{ "i16x8.narrow_i32x4_u", .i16x8_narrow_i32x4_u },
        .{ "i16x8.ne", .i16x8_ne },
        .{ "i16x8.neg", .i16x8_neg },
        .{ "i16x8.q15mulr_sat_s", .i16x8_q15mulr_sat_s },
        .{ "i16x8.relaxed_dot_i8x16_i7x16_s", .i16x8_relaxed_dot_i8x16_i7x16_s },
        .{ "i16x8.relaxed_laneselect", .i16x8_relaxed_laneselect },
        .{ "i16x8.relaxed_q15mulr_s", .i16x8_relaxed_q15mulr_s },
        .{ "i16x8.replace_lane", .i16x8_replace_lane },
        .{ "i16x8.shl", .i16x8_shl },
        .{ "i16x8.shr_s", .i16x8_shr_s },
        .{ "i16x8.shr_u", .i16x8_shr_u },
        .{ "i16x8.splat", .i16x8_splat },
        .{ "i16x8.sub", .i16x8_sub },
        .{ "i16x8.sub_sat_s", .i16x8_sub_sat_s },
        .{ "i16x8.sub_sat_u", .i16x8_sub_sat_u },
        .{ "i32x4.abs", .i32x4_abs },
        .{ "i32x4.add", .i32x4_add },
        .{ "i32x4.all_true", .i32x4_all_true },
        .{ "i32x4.bitmask", .i32x4_bitmask },
        .{ "i32x4.dot_i16x8_s", .i32x4_dot_i16x8_s },
        .{ "i32x4.eq", .i32x4_eq },
        .{ "i32x4.extadd_pairwise_i16x8_s", .i32x4_extadd_pairwise_i16x8_s },
        .{ "i32x4.extadd_pairwise_i16x8_u", .i32x4_extadd_pairwise_i16x8_u },
        .{ "i32x4.extend_high_i16x8_s", .i32x4_extend_high_i16x8_s },
        .{ "i32x4.extend_high_i16x8_u", .i32x4_extend_high_i16x8_u },
        .{ "i32x4.extend_low_i16x8_s", .i32x4_extend_low_i16x8_s },
        .{ "i32x4.extend_low_i16x8_u", .i32x4_extend_low_i16x8_u },
        .{ "i32x4.extmul_high_i16x8_s", .i32x4_extmul_high_i16x8_s },
        .{ "i32x4.extmul_high_i16x8_u", .i32x4_extmul_high_i16x8_u },
        .{ "i32x4.extmul_low_i16x8_s", .i32x4_extmul_low_i16x8_s },
        .{ "i32x4.extmul_low_i16x8_u", .i32x4_extmul_low_i16x8_u },
        .{ "i32x4.extract_lane", .i32x4_extract_lane },
        .{ "i32x4.ge_s", .i32x4_ge_s },
        .{ "i32x4.ge_u", .i32x4_ge_u },
        .{ "i32x4.gt_s", .i32x4_gt_s },
        .{ "i32x4.gt_u", .i32x4_gt_u },
        .{ "i32x4.le_s", .i32x4_le_s },
        .{ "i32x4.le_u", .i32x4_le_u },
        .{ "i32x4.lt_s", .i32x4_lt_s },
        .{ "i32x4.lt_u", .i32x4_lt_u },
        .{ "i32x4.max_s", .i32x4_max_s },
        .{ "i32x4.max_u", .i32x4_max_u },
        .{ "i32x4.min_s", .i32x4_min_s },
        .{ "i32x4.min_u", .i32x4_min_u },
        .{ "i32x4.mul", .i32x4_mul },
        .{ "i32x4.ne", .i32x4_ne },
        .{ "i32x4.neg", .i32x4_neg },
        .{ "i32x4.relaxed_dot_i8x16_i7x16_add_s", .i32x4_relaxed_dot_i8x16_i7x16_add_s },
        .{ "i32x4.relaxed_laneselect", .i32x4_relaxed_laneselect },
        .{ "i32x4.relaxed_trunc_f32x4_s", .i32x4_relaxed_trunc_f32x4_s },
        .{ "i32x4.relaxed_trunc_f32x4_u", .i32x4_relaxed_trunc_f32x4_u },
        .{ "i32x4.relaxed_trunc_f64x2_s_zero", .i32x4_relaxed_trunc_f64x2_s_zero },
        .{ "i32x4.relaxed_trunc_f64x2_u_zero", .i32x4_relaxed_trunc_f64x2_u_zero },
        .{ "i32x4.replace_lane", .i32x4_replace_lane },
        .{ "i32x4.shl", .i32x4_shl },
        .{ "i32x4.shr_s", .i32x4_shr_s },
        .{ "i32x4.shr_u", .i32x4_shr_u },
        .{ "i32x4.splat", .i32x4_splat },
        .{ "i32x4.sub", .i32x4_sub },
        .{ "i32x4.trunc_sat_f32x4_s", .i32x4_trunc_sat_f32x4_s },
        .{ "i32x4.trunc_sat_f32x4_u", .i32x4_trunc_sat_f32x4_u },
        .{ "i32x4.trunc_sat_f64x2_s_zero", .i32x4_trunc_sat_f64x2_s_zero },
        .{ "i32x4.trunc_sat_f64x2_u_zero", .i32x4_trunc_sat_f64x2_u_zero },
        .{ "i64x2.abs", .i64x2_abs },
        .{ "i64x2.add", .i64x2_add },
        .{ "i64x2.all_true", .i64x2_all_true },
        .{ "i64x2.bitmask", .i64x2_bitmask },
        .{ "i64x2.eq", .i64x2_eq },
        .{ "i64x2.extend_high_i32x4_s", .i64x2_extend_high_i32x4_s },
        .{ "i64x2.extend_high_i32x4_u", .i64x2_extend_high_i32x4_u },
        .{ "i64x2.extend_low_i32x4_s", .i64x2_extend_low_i32x4_s },
        .{ "i64x2.extend_low_i32x4_u", .i64x2_extend_low_i32x4_u },
        .{ "i64x2.extmul_high_i32x4_s", .i64x2_extmul_high_i32x4_s },
        .{ "i64x2.extmul_high_i32x4_u", .i64x2_extmul_high_i32x4_u },
        .{ "i64x2.extmul_low_i32x4_s", .i64x2_extmul_low_i32x4_s },
        .{ "i64x2.extmul_low_i32x4_u", .i64x2_extmul_low_i32x4_u },
        .{ "i64x2.extract_lane", .i64x2_extract_lane },
        .{ "i64x2.ge_s", .i64x2_ge_s },
        .{ "i64x2.gt_s", .i64x2_gt_s },
        .{ "i64x2.le_s", .i64x2_le_s },
        .{ "i64x2.lt_s", .i64x2_lt_s },
        .{ "i64x2.mul", .i64x2_mul },
        .{ "i64x2.ne", .i64x2_ne },
        .{ "i64x2.neg", .i64x2_neg },
        .{ "i64x2.relaxed_laneselect", .i64x2_relaxed_laneselect },
        .{ "i64x2.replace_lane", .i64x2_replace_lane },
        .{ "i64x2.shl", .i64x2_shl },
        .{ "i64x2.shr_s", .i64x2_shr_s },
        .{ "i64x2.shr_u", .i64x2_shr_u },
        .{ "i64x2.splat", .i64x2_splat },
        .{ "i64x2.sub", .i64x2_sub },
        .{ "i8x16.abs", .i8x16_abs },
        .{ "i8x16.add", .i8x16_add },
        .{ "i8x16.add_sat_s", .i8x16_add_sat_s },
        .{ "i8x16.add_sat_u", .i8x16_add_sat_u },
        .{ "i8x16.all_true", .i8x16_all_true },
        .{ "i8x16.avgr_u", .i8x16_avgr_u },
        .{ "i8x16.bitmask", .i8x16_bitmask },
        .{ "i8x16.eq", .i8x16_eq },
        .{ "i8x16.extract_lane_s", .i8x16_extract_lane_s },
        .{ "i8x16.extract_lane_u", .i8x16_extract_lane_u },
        .{ "i8x16.ge_s", .i8x16_ge_s },
        .{ "i8x16.ge_u", .i8x16_ge_u },
        .{ "i8x16.gt_s", .i8x16_gt_s },
        .{ "i8x16.gt_u", .i8x16_gt_u },
        .{ "i8x16.le_s", .i8x16_le_s },
        .{ "i8x16.le_u", .i8x16_le_u },
        .{ "i8x16.lt_s", .i8x16_lt_s },
        .{ "i8x16.lt_u", .i8x16_lt_u },
        .{ "i8x16.max_s", .i8x16_max_s },
        .{ "i8x16.max_u", .i8x16_max_u },
        .{ "i8x16.min_s", .i8x16_min_s },
        .{ "i8x16.min_u", .i8x16_min_u },
        .{ "i8x16.narrow_i16x8_s", .i8x16_narrow_i16x8_s },
        .{ "i8x16.narrow_i16x8_u", .i8x16_narrow_i16x8_u },
        .{ "i8x16.ne", .i8x16_ne },
        .{ "i8x16.neg", .i8x16_neg },
        .{ "i8x16.popcnt", .i8x16_popcnt },
        .{ "i8x16.relaxed_laneselect", .i8x16_relaxed_laneselect },
        .{ "i8x16.relaxed_swizzle", .i8x16_relaxed_swizzle },
        .{ "i8x16.replace_lane", .i8x16_replace_lane },
        .{ "i8x16.shl", .i8x16_shl },
        .{ "i8x16.shr_s", .i8x16_shr_s },
        .{ "i8x16.shr_u", .i8x16_shr_u },
        .{ "i8x16.shuffle", .i8x16_shuffle },
        .{ "i8x16.splat", .i8x16_splat },
        .{ "i8x16.sub", .i8x16_sub },
        .{ "i8x16.sub_sat_s", .i8x16_sub_sat_s },
        .{ "i8x16.sub_sat_u", .i8x16_sub_sat_u },
        .{ "i8x16.swizzle", .i8x16_swizzle },

        // v128 memory instructions
        .{ "v128.load", .v128_load },
        .{ "v128.load8x8_s", .v128_load8x8_s },
        .{ "v128.load8x8_u", .v128_load8x8_u },
        .{ "v128.load16x4_s", .v128_load16x4_s },
        .{ "v128.load16x4_u", .v128_load16x4_u },
        .{ "v128.load32x2_s", .v128_load32x2_s },
        .{ "v128.load32x2_u", .v128_load32x2_u },
        .{ "v128.load8_splat", .v128_load8_splat },
        .{ "v128.load16_splat", .v128_load16_splat },
        .{ "v128.load32_splat", .v128_load32_splat },
        .{ "v128.load64_splat", .v128_load64_splat },
        .{ "v128.store", .v128_store },
        .{ "v128.load8_lane", .v128_load8_lane },
        .{ "v128.load16_lane", .v128_load16_lane },
        .{ "v128.load32_lane", .v128_load32_lane },
        .{ "v128.load64_lane", .v128_load64_lane },
        .{ "v128.store8_lane", .v128_store8_lane },
        .{ "v128.store16_lane", .v128_store16_lane },
        .{ "v128.store32_lane", .v128_store32_lane },
        .{ "v128.store64_lane", .v128_store64_lane },
        .{ "v128.load32_zero", .v128_load32_zero },
        .{ "v128.load64_zero", .v128_load64_zero },

        // v128 const and logical instructions
        .{ "v128.const", .v128_const },
        .{ "v128.not", .v128_not },
        .{ "v128.and", .v128_and },
        .{ "v128.andnot", .v128_andnot },
        .{ "v128.or", .v128_or },
        .{ "v128.xor", .v128_xor },
        .{ "v128.bitselect", .v128_bitselect },
        .{ "v128.any_true", .v128_any_true },

        // f32x4 instructions
        .{ "f32x4.splat", .f32x4_splat },
        .{ "f32x4.extract_lane", .f32x4_extract_lane },
        .{ "f32x4.replace_lane", .f32x4_replace_lane },
        .{ "f32x4.eq", .f32x4_eq },
        .{ "f32x4.ne", .f32x4_ne },
        .{ "f32x4.lt", .f32x4_lt },
        .{ "f32x4.gt", .f32x4_gt },
        .{ "f32x4.le", .f32x4_le },
        .{ "f32x4.ge", .f32x4_ge },
        .{ "f32x4.abs", .f32x4_abs },
        .{ "f32x4.neg", .f32x4_neg },
        .{ "f32x4.sqrt", .f32x4_sqrt },
        .{ "f32x4.ceil", .f32x4_ceil },
        .{ "f32x4.floor", .f32x4_floor },
        .{ "f32x4.trunc", .f32x4_trunc },
        .{ "f32x4.nearest", .f32x4_nearest },
        .{ "f32x4.add", .f32x4_add },
        .{ "f32x4.sub", .f32x4_sub },
        .{ "f32x4.mul", .f32x4_mul },
        .{ "f32x4.div", .f32x4_div },
        .{ "f32x4.min", .f32x4_min },
        .{ "f32x4.max", .f32x4_max },
        .{ "f32x4.pmin", .f32x4_pmin },
        .{ "f32x4.pmax", .f32x4_pmax },
        .{ "f32x4.convert_i32x4_s", .f32x4_convert_i32x4_s },
        .{ "f32x4.convert_i32x4_u", .f32x4_convert_i32x4_u },
        .{ "f32x4.demote_f64x2_zero", .f32x4_demote_f64x2_zero },
        .{ "f32x4.relaxed_madd", .f32x4_relaxed_madd },
        .{ "f32x4.relaxed_nmadd", .f32x4_relaxed_nmadd },
        .{ "f32x4.relaxed_min", .f32x4_relaxed_min },
        .{ "f32x4.relaxed_max", .f32x4_relaxed_max },
        .{ "f32x4.relaxed_dot_bf16x8_add_f32x4", .f32x4_relaxed_dot_bf16x8_add_f32x4 },

        // f64x2 instructions
        .{ "f64x2.splat", .f64x2_splat },
        .{ "f64x2.extract_lane", .f64x2_extract_lane },
        .{ "f64x2.replace_lane", .f64x2_replace_lane },
        .{ "f64x2.eq", .f64x2_eq },
        .{ "f64x2.ne", .f64x2_ne },
        .{ "f64x2.lt", .f64x2_lt },
        .{ "f64x2.gt", .f64x2_gt },
        .{ "f64x2.le", .f64x2_le },
        .{ "f64x2.ge", .f64x2_ge },
        .{ "f64x2.abs", .f64x2_abs },
        .{ "f64x2.neg", .f64x2_neg },
        .{ "f64x2.sqrt", .f64x2_sqrt },
        .{ "f64x2.ceil", .f64x2_ceil },
        .{ "f64x2.floor", .f64x2_floor },
        .{ "f64x2.trunc", .f64x2_trunc },
        .{ "f64x2.nearest", .f64x2_nearest },
        .{ "f64x2.add", .f64x2_add },
        .{ "f64x2.sub", .f64x2_sub },
        .{ "f64x2.mul", .f64x2_mul },
        .{ "f64x2.div", .f64x2_div },
        .{ "f64x2.min", .f64x2_min },
        .{ "f64x2.max", .f64x2_max },
        .{ "f64x2.pmin", .f64x2_pmin },
        .{ "f64x2.pmax", .f64x2_pmax },
        .{ "f64x2.convert_low_i32x4_s", .f64x2_convert_low_i32x4_s },
        .{ "f64x2.convert_low_i32x4_u", .f64x2_convert_low_i32x4_u },
        .{ "f64x2.promote_low_f32x4", .f64x2_promote_low_f32x4 },
        .{ "f64x2.relaxed_madd", .f64x2_relaxed_madd },
        .{ "f64x2.relaxed_nmadd", .f64x2_relaxed_nmadd },
        .{ "f64x2.relaxed_min", .f64x2_relaxed_min },
        .{ "f64x2.relaxed_max", .f64x2_relaxed_max },
    });
    
    return map.get(name);
}
